<!DOCTYPE html>
<html x-ng-app="employeeApp">
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>

<script type="text/javascript" src="angular.min.js"></script>
<script type="text/javascript" src="angular-route.js"></script>

<script>
		var employeeApp=angular.module("employeeApp",['ngRoute']);

		employeeApp.config(function($routeProvider)
							{
								$routeProvider
								.when("/addEmployee",{
														templateUrl:"addEmployee.htm",
														controller:'employeeController'
													 }
									  )
								.when("/getAllEmployees",{
															templateUrl:"employeeList.htm",
															controller:'employeeController'
														 }
									  )
								.when("/updateDelEmployee",{
															templateUrl:"updateDelList.htm",
															controller:'employeeController'
															}
									  )
								.when("/getEmployeeById",{
															templateUrl:'empId.htm',
															controller:'employeeController'
														 }
								     )
							});

		
		employeeApp.controller('employeeController',
								['$scope','$http','$log',function($scope,$http,$log)
														{
															
	

														 $scope.getAllEmployee=()=>
														{
															console.log("aaaaaaaa");
															$http({url:"employee?action=getAllEmployee"})
															.then(function(response)
																	{
																		$scope.employees=response.data;
																	},
																	function(response)
																	{
																		$log.error(response);
																	}
																  );
														}
	
														$scope.getId=(e)=>{
															console.log(e)
															console.log($scope.id)
															$http({
																url:'employee?action=getEmployeeById&employeeId='+e,
																method:'GET'
																})
															.then(function(response)
																	{
																		$scope.employees=response.data;
																		console.log(response);
																	},
																  function(response)
																  {
																		$log.error(response);
																  }
																 )
														}
														/* $scope.getEmployeeById=function(employeeId)
														{
															console.log(employeeId)
															console.log("employeeId"+$scope.eId)
															console.log("printing employee details");
															/* $http({
																url:'employee?action=getEmployeeById&employeeId='+employeeId,
																method:'GET'
																})
															.then(function(response)
																	{
																		$scope.employees=response.data;
																		console.log(response);
																	},
																  function(response)
																  {
																		$log.error(response);
																  }
																 ) 
														} */
								}]);
</script>
</head>

<body x-ng-controller="employeeController">
	<p>
		<a href="#/">Home Page</a>
	</p>
	<p>
		<a href="#/getAllEmployees" x-ng-init='getAllEmployee()'>GetEmployee
			List</a>
	</p>
	<p>
		<a href="#/getEmployeeById">Get Employee By Id</a>
	</p>
	<p>
		<a href="#/updateDelEmployee">update/delete Employee</a>
	</p>
	<p>
		<a href="#/addEmployee">Register Employee</a>
	</p>
	<div x-ng-view></div>


</body>
</html>